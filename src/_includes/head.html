<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <title>{% if page.title %}{{ page.title }}{% else %}{{ site.title }}{% endif %}</title>
  <meta name="description" content="{% if page.excerpt %}{{ page.excerpt | strip_html | strip_newlines | truncate: 160 }}{% else %}{{ site.description }}{% endif %}">

  {% stylesheet main %}

  <link rel="canonical" href="{{ page.url | replace:'index.html','' | prepend: site.baseurl | prepend: site.url }}">
  <link rel="alternate" type="application/rss+xml" title="{{ site.title }}" href="{{ "/feed.xml" | prepend: site.baseurl | prepend: site.url }}" />

  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-63829041-1', 'auto');
    ga('send', 'pageview');

    // not a fan either...
    window.provide = (function () {
      var providers = {};
      var modules = {};

      var provide = function (name, provider) {
        providers[name] = provider;

        var main = document.querySelector('[provider-main]').getAttribute('provider-main');
        if (name === main) load(name);
      };

      var load = function (name) {
        if (!modules[name]) init(name);
        return modules[name].exports;
      };

      var init = function (name) {
        var module = modules[name] = {};
        var exports = module.exports = {};
        var provider = providers[name];

        if (!provider) {
          throw new Error('unknown provider ' + name);
        }

        try {
          provider.call(module, module, exports, load);
        } catch (e) {
          if (e.$$_inProviderChain) {
            e.message += ' <- ' + name;
          } else {
            e.$$_inProviderChain = true;
            e.message += ' while loading module: ' + name;
          }

          throw e;
        }
      };

      return provide;
    }());
  </script>
</head>
